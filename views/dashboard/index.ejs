<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/public/stylesheets/style.css" />
</head>
<body>
<%- include('../partials/_navbar.ejs') %>

<h1>Welcome to your Teams Dashboard</h1>
<h2>Manage, track, and build your dream teams with ease.</h2>


<!-- Card container for team cards -->
<div class="card-container">
    <% teams.forEach((team) => { %>
        <div class="team-card">
            <a id="display" href="/dashboard/team/<%= team._id %>">
                <h3><%= team.name %></h3>
            </a>
            <div class="card-details">
                <h4>Engine:</h4>
                <p><%= team.engineSupplier %></p>
                <h4>Drivers:</h4>
                <% team.drivers.forEach((driver) => { %>
                    <a id="display" href="/dashboard/driver/<%= driver._id %>">
                        <p><%= driver.name %></p>
                    </a>
                <% }); %>
                <h4>Races:</h4>
                <% team.races.forEach((race) => { %>
                    <a id="display" href="/dashboard/race/<%= race._id %>">
                        <p><%= race.name %></p>
                    </a>
                <% }); %>
            </div>
        </div>
    <% }); %>
</div>
<div class="button-container">
    <a class="add-team-link" href="/dashboard/new">Add a team</a>

</div>

</body>
</html>
